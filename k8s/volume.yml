apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-local-pv
  annotations:
    "volume.alpha.kubernetes.io/node-affinity": '{
      "requiredDuringSchedulingIgnoredDuringExecution": {
        "nodeSelectorTerms": [
          { "matchExpressions": [
            { "key": "beta.kubernetes.io/os",
              "operator": "In",
              "values": ["linux"]
            }
          ]}
         ]}
        }',
spec:
  capacity:
    storage: 10Gi
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Delete
  storageClassName: local-mysql
  local:
    path: /home/wuzhongyang/database/mysql

---
# ------------------- Mysql PVC ------------------- #
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-local-claim
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: local-mysql
